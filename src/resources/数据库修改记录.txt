
20160811之前
	public_product
	   (1) 将update字段名 改为 createdate
	   (2) 增加排序字段   sort  int  11
	   
	   
	2、brandfist （品牌综合页表）
		（1）增加firstpic varchar 200   综合页主图片
		（2）增加firstpicurl varchar 200   综合页主图片链接地址
		
	3、public_content (富文本表)
		（1）增加sort int 11    排序
		
	4、brandlist （品牌系列页表）
		（1）增加pic varchar 200     系列页顶部主图片
		（2）增加picurl varchar 200	系列页主图片点击url
		
	5、public_video (公共视频表)
		（1） 增加videoshowpic	varchar 200  视频封面图片
		（2） 将videooldname 字段名改为mp4oldname
		（3） 将videonewname 字段名改为mp4newname
		（4）增加webmoldname varchar 500 		webm原文件名
		（5）增加webmnewname varchar 500		webm服务器路径+文件名称
		（6）删除videoext 字段
		（7）增加sort int 11 排序字段
		（8）增加isshow int 11  是否显示
	
20160811
	public_content (富文本表)
		（1）增加brief varchar 2000    简介
	filesdown (文件下载表)
		（1）增加pic varchar 200  	图片
		
		
20160814 新需求增加和修改的数据库结构

	1、public_product_size 商品规格表
	
	（1）增加 特价 saleprice float(2)
	
	2、public_user  个人中心表
	（1）增加机构名称  companyname varchar 200	存储机构（代理或店）的名称
	（2）增加机构地址  companypath varchar 1000	存储机构（代理或店）的地址
	（3）增加机构上级id parentid varchar 40		存储机构（代理或店）的直属上级id
	（4）增加所属店代码 belongcode varchar 100      存储普通会员的所属店代码
	（5）增加机构代码   companycode varchar 100	存储机构的代码
	（6）将字段名 userid 改为identity		身份标识，原userid容易混淆
	（7）将字段名usermemo 改为identitymemo		身份说明 
	（8）增加 wechar varchar 100			微信号码
	（9）代理商或店的证照信息			都包含哪些？？
	（10）增加 rank  varchar 200			代理商或店的级别。存文本，仅仅显示，没有实际意义。
	
	3、public_user_bank 个人账户表
	（1）增加parentid  用户的父节点id，即该机构与不同上级（代理或平台）进货，所有的账户只针对父机构。
	（2）将banktotal 改为收入总计     incomebank		平台、代理
	（3）将bankget 改为支出总计       costbank		平台、代理
	（4）将nointonum 改为可提现账户   takenbank Float (2)	平台、代理
	（5）将totalnum 改为平台销售额	  sellbank  Float（2）	平台、代理、店
	（6）增加可支配账户  havebank	  Float（2）		代理、店
	（7）增加配额账户    quotabank    Float（2）		代理、店
	（8）增加充值账户    depositbank  Float（2）		代理、店
	（9）增加平台销售额可提现账户   selltakenbank Float（2）店
	（10）增加返利账户	rebatesbank Float（2）		店
	（11）增加奖励账户	bonusesbank Float（2）		店
	（12）增加奖励可提现账户 bonusestakenbank Float（2）	店
	
	4、增加表 public_set_user_standard  设置采购各种标准
	（1） id varchar 40		主键
	（2）parentid varchar 40	设置标准的机构
	（3）userid	40		被设置标准的机构
	（4）buyerdis Float（2）	商品采购折扣
	（5）rebatesdis	Float（2）	返利标准
	（6）bonusesdis Float（2）	奖励标准	
	
	5、public_order  订单表
	（1）增加parentid varchar 40	订单发起机构上级id，用来获取订单
	（2）增加identity varchar 40    订单发起机构身份标识，用来区分订单发起人身份，用来获取订单
	（3）增加 deliverynum varchar 100   快递单号
	
	6、增加表public_dis_config   	平台公共利益分配参数设置
	（1）id varchar 40		主键
	（2）rebates_down Float（2）	设置返利下限
	（3）rebates_up Float（2）	设置返利上限
	（4）bonuses_down Float(2)	设置奖励下限
	（5）bonuses_up	  Float(2)	设置奖励上限
	（6）taken_dian	int 11		设置店提现日期。整数，2代表每周2
	（7）taken_daili int 11		设置代理的提现日期。整数，2代表每周2
	（8）quota_down	 int 11		设置配额下限
	（9）quota_up	int 11		设置配额上限
	（10）deposit_down  int 11	设置充值金额下限
	（11）deposit_up    int 11	设置充值金额上限
	（12）bonuses_ratio_down int 11	设置奖励转货款下限
	（13）bonuses_ratio_up	int 11	设置奖励转货款上限
	（14）balance_date	int 11	设置普通会员购买后，平台分成给代理和店，进入可提现账户的金额的天数，因为存在退货的可能
	
	7、机构对于充值、配额、奖励等的说明文字，存入富文本表，可以使用或不使用富文本编辑器来存入该表内容。
	
	8、增加表public_log 		日志表。依靠日志分类字段，来区分日志类型。
	（1）id varchar(40)		主键
	（2）userid varchar（40）	主操作人id
	（3）touserid varchar（40）	被操作人id
	（4）logtype varchar（40）	操作类型。（例如登录日志为logoin，充值为deposit，配额为quota，可以扩充，代码意义存入字典）。可以取代取现、充值、配额记录表
	（5）logmemo varchar（500）	日志内容描	述
	（6）logtime varchar（100）	日志日期
	（7）lognum varchar（100）	日志流水号（有些记录是有流水号的，例如提现流水号）
	（8）logpay float（2）		日志金额（有些记录是用金额的，例如充值、配额、提现）
	
	
	9、在数据字典表里增加如下记录。sys_data_dic(可以根据情况再添加日志的类型)
	id	table name	field		dic_key		dic_value
	40	public_log	logtype		logoin		登录日志
	41	public_log	logtype		deposit		充值日志
	42	public_log	logtype		quota		配额日志
	43	public_log	logtype		rebates		返利日志
	44	public_log	logtype		bonuses		奖励日志
	45	public_log	logtype		bonuses_ratio	奖励转贷款日志
	
20160815

1、filesdown 文件下载表
  （1）增加parenttype varchar 100 类型
  
20160819 

1、sys_public 公共资源表
	（1）增加该表一条数据。
	id	codename	pic_path	memo  	codetype											
	1	企业Logo							logo1
	
20160821

1、public_dis_config 公共利益分配标准设置表
	（1）增加该表一条id为1的数据。其他数据项不用填入。
	
20160822
1、创建个人中心关系关联表。主要为一个店有多个上级。public_user_link
	(1)id varchar(40)  pk
	(2)parentid varchar(40)
	(3)userid	varchar(40)

20160823
1、修改public_product_size 商品规格表。增加如下字段：
	（1）productname varchar（200）
	（2）showtype	int（11）
	（3）productpic	varchar（500）
	（4）productmemo	varchar（2000）
	
20160826
1、修改public_product_size 商品规格表。增加如下：
	（1）linkids varchar（2000） 商品推荐ids
	
20160830
1、增加短信日志表   public_phone_code_log
	(1)id			varchar(40)
	(2)phonenumber	varchar(100)
	(3)sendtime		varchar(100)
	(4)sendtimestr	varchar(100)
	(5)sendcode		varchar(50)
	(6)sendtype		varchar(50)
	(7)ip			varchar(100)

2、修改public_order_product 订单商品表，增加
	（1）productsize varchar(50)  订单商品规格标准
	
20160901
1、修改表public_content
	(1)增加isshow int 11  是否显示
2、修改表filesdown
	（1）增加isshow int 11 是否显示
	
20160908
1、修改表public_user
	(1)增加 createtime varchar（100） 创建时间。叫time的精确到时分秒 叫date的精确到日期
2、修改表public_user_bank
	(1)增加 bankstate int (11) 金额帐户状态  0：冻结  1：正常
	（2）增加bankstatetxt varchar （50） 状态中文。存冻结or 正常。用于前台显示
	
3、修改表public_set_user_standard （设置采购各种标准）
	（1）增加sizeid varchar（40）	规格id
4、新建表 public_set_bonuses_ratio （设置奖励转货款标准）
	（1）id varchar（40）
	（2）parentid varchar（40）
	（3）userid varchar（40）
	（4）bonuses_ratio decimal（11，2）
5、修改表 public_dis_config 平台公共利益分配参数设置
	（1）修改字段 bonuses_ratio_down 、 bonuses_ratio_up 俩字段的数据库类型为 decimal（11，2）
	
20160909
1、增加表public_user_brand  机构与品牌关联表
	(1)id varchar(40)
	(2)parentid varchar(40)
	(3)userid	varchar(40)
	(4)brandid	varchar(40)

2、修改表 public_product_size  规格表
	（1）、增加字段 brandid  varchar（40） 品牌id

3、修改表 public_set_user_standard 设置采购各种标准
	(1）增加brandid varchar（40）	品牌id
	
20160910 
1、修改表 public_set_user_standard 设置采购各种标准
	(1）增加productid varchar（40）	商品id
	(2) 增加state int（11） 状态 0：禁止采购  1：可采购
	
20160913
1、修改表 public_order_product 订单商品表
	（1）增加 buyerdis decimal（11，2）	//商品采购折扣
	（2）增加 rebatesdis decimal（11，2）	//返利标准
	（2）增加 bonusesdis decimal（11，2）	//奖励标准
	
2、表public_user_link 机构关联表
	（1）初始一条数据 id、parentidi、userid 都有1     //将平台关联自己
	
3、修改public_user 个人中心
	（1）增加sort int（11） //排序   请初始化已存在的机构该字段值
	
2016-09-14
1、将public_bankget_list表修改为表名 public_trade_bill。字段修改为以下：
	(1) id varchar（40）
	(2) billid			varchar(100)		//流水单号
	(3) orderid			varchar(40)		 	//订单id
	(4) parentid		varchar(40)			//上级id
	(5) userid			varchar(40)			//用户id	
	(6) amount			Decimal (11,2)		//金额	
	(7) createtime		varchar(100)		//创建时间	
	(8) banktime		varchar(100)		//支付回执时间	
	(9) paytype			varchar(100)		//支付类型	
	(10)trantype		Integer(11)			//交易类型	
	(11) trantypetxt	varchar(50)			//交易类型文本	
	(12) status			Integer(11)			//状态
	(13) billmemo		varchar(500)		//交易描述
	
2、数据字典
INSERT INTO sys_data_dic VALUES('46','public_order','orderstatus','-1','取消订单');
INSERT INTO sys_data_dic VALUES('47','public_trade_bill','trantype','0','普通购买');
INSERT INTO sys_data_dic VALUES('48','public_trade_bill','trantype','1','充值-货款充值');
INSERT INTO sys_data_dic VALUES('49','public_trade_bill','trantype','2','充值-现金充值');
INSERT INTO sys_data_dic VALUES('50','public_trade_bill','trantype','3','提现-现金账户');
INSERT INTO sys_data_dic VALUES('51','public_trade_bill','trantype','4','提现-奖励账户');
INSERT INTO sys_data_dic VALUES('52','public_trade_bill','trantype','5','提现-平台售额');
--
INSERT INTO sys_data_dic VALUES('53','public_trade_bill','status','0','未支付、提现失败');
INSERT INTO sys_data_dic VALUES('54','public_trade_bill','status','1','支付成功、提现成功');
INSERT INTO sys_data_dic VALUES('55','public_log','logtype','withdrawal','提现');


2016-09-22
1、 修改public_order 订单表
	（1）增加ordertype varchar(50) 订单来源   内容  p：来源于pc官网的订单   o：来源于采购平台的订单
	(2)执行以下sql 在数据字典里加入
	insert into `zhxh`.`sys_data_dic` ( `id`, `tablename`, `field`, `dic_key`, `dic_value`) values ( '56', 'public_order', 'ordertype', 'p', '来源于pc官网订单');
	insert into `zhxh`.`sys_data_dic` ( `id`, `tablename`, `field`, `dic_key`, `dic_value`) values ( '57', 'public_order', 'ordertype', 'o', '来源于采购平台的订单');
	

	
	
	
